<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Préparer votre visite - Zootopia</title>
    <style>
        /* Style général */
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #e4d3b2;
            color: #333;
            line-height: 1.6;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 50px;
            background-image: url('background-safari.jpg'); /* Image de fond safari */
            background-size: cover;
            background-position: center;
        }

        /* Conteneur principal */
        .container {
            width: 90%;
            max-width: 1100px;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            margin-top: 30px;
            background-color: rgba(255, 255, 255, 0.8); /* Fond semi-transparent */
        }

        h1 {
            text-align: center;
            font-size: 3rem;
            color: #503b14;
            margin-bottom: 20px;
            font-family: 'Georgia', serif;
        }

        /* Flèche de retour */
        .back-arrow {
            position: absolute;
            top: 20px;
            left: 20px;
            font-size: 2rem;
            color: #503b14;
            text-decoration: none;
            font-weight: bold;
            background-color: rgba(0, 0, 0, 0.1);
            padding: 10px;
            border-radius: 50%;
            transition: background-color 0.3s ease;
            cursor: pointer;
        }

        .back-arrow:hover {
            background-color: rgba(0, 0, 0, 0.2);
        }

        /* Section Plan du Parc */
        .plan-section {
            margin-top: 40px;
            text-align: center;
        }

        .plan-section h2 {
            font-size: 2rem;
            color: #503b14;
            border-bottom: 2px solid #503b14;
            padding-bottom: 10px;
            margin-bottom: 20px;
            font-family: 'Georgia', serif;
        }

        .plan-section img {
            width: 90%;
            max-width: 800px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            margin-bottom: 10px;
        }

        .plan-caption {
            font-size: 1rem;
            color: #555;
            font-style: italic;
            margin-top: 10px;
        }

        /* Section Services */
        .services-section {
            margin-top: 40px;
        }

        .services-section h2 {
            font-size: 2rem;
            color: #503b14;
            border-bottom: 2px solid #503b14;
            padding-bottom: 10px;
            margin-bottom: 20px;
            font-family: 'Georgia', serif;
        }

        .service-item {
            margin-bottom: 15px;
            padding: 15px;
            border: 2px solid #503b14;
            border-radius: 10px;
            background-color: #f5ebdc;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            background-image: url('leaf-pattern.png'); /* Image de fond pour les services */
            background-size: cover;
        }

        .service-title {
            font-size: 1.4rem;
            font-weight: bold;
            color: #503b14;
            margin-bottom: 5px;
            font-family: 'Georgia', serif;
        }

        .service-description {
            font-size: 1rem;
            color: #555;
        }

        /* Section Avis */
        .feedback-section {
            margin-top: 40px;
            text-align: center;
        }

        .feedback-section h2 {
            font-size: 2rem;
            color: #503b14;
            border-bottom: 2px solid #503b14;
            padding-bottom: 10px;
            margin-bottom: 20px;
            font-family: 'Georgia', serif;
        }

        .feedback-form input,
        .feedback-form textarea {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 5px;
            border: 1px solid #ddd;
            font-size: 1rem;
        }

        .feedback-form button {
            padding: 10px 15px;
            background-color: #503b14;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1.2rem;
            cursor: pointer;
            width: 100%;
        }

        .feedback-form button:hover {
            background-color: #8a5e3d; /* Couleur plus claire au survol */
        }

        /* Footer */
        footer {
            margin-top: 60px;
            text-align: center;
            font-size: 0.9rem;
            color: #777;
        }

        /* Styles pour les éléments de formulaire */
        .feedback-form input,
        .feedback-form textarea {
            font-family: 'Arial', sans-serif;
        }
    </style>
</head>
<body>

    <!-- Flèche de retour -->
    <a href="javascript:history.back()" class="back-arrow">&#8592;</a>

    <div class="container">
        <!-- Contenu principal -->
        <h1>Préparer votre visite</h1>

        <!-- Section Plan du Parc -->
        <div class="plan-section">
            <h2>Plan du Parc</h2>
            <p>Avant votre visite, consultez le plan du parc pour repérer les différentes zones et attractions. Cela vous permettra de mieux organiser votre parcours et de ne rien manquer des moments forts de Zootopia.</p>
            <img src="planduparc.jpg" alt="Plan du parc">
            <p class="plan-caption">Plan interactif du parc avec toutes les zones d'attractions, restaurants, et espaces de repos.</p>
        </div>

        <!-- Section des Services -->
        <div class="services-section">
            <h2>Services Disponibles</h2>

            <!-- Liste des services -->
            <div id="services-list">
                <!-- Les services seront ajoutés dynamiquement ici -->
            </div>
        </div>

        <!-- Section Avis -->
        <div class="feedback-section">
            <h2>Laissez votre avis</h2>
            <form class="feedback-form" action="avis.php" method="POST">
                <!-- Nom de l'utilisateur -->
                <input type="text" name="user_id" placeholder="Votre nom" required>
                
                <!-- Note sur 10 -->
                <input type="number" name="note" min="1" max="10" placeholder="Note sur 10" required>
                
                <!-- Commentaire -->
                <textarea name="commentaire" rows="5" placeholder="Votre commentaire" required></textarea>
                
                <!-- Bouton Envoyer -->
                <button type="submit">Envoyer</button>
            </form>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <p>&copy; 2024 Zootopia. Tous droits réservés.</p>
    </footer>

    <script>
         // Fonction pour récupérer les services depuis la base de données
         function sendGetRequest(url, callback) {
            const xhr = new XMLHttpRequest();
            xhr.open('GET', url, true);
            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    callback(JSON.parse(xhr.responseText));
                }
            };
            xhr.send();
        }

        // Récupérer et afficher les services
        window.onload = function() {
            sendGetRequest('services.php', function(response) {
                if (response.message) {
                    alert(response.message); // Si aucun service trouvé
                } else {
                    const servicesList = document.getElementById('services-list');
                    response.forEach(function(service) {
                        const serviceItem = document.createElement('div');
                        serviceItem.classList.add('service-item');
                        serviceItem.innerHTML = `
                            <p class="service-title">${service.nom}</p>
                            <p class="service-description">Description du service disponible dans le parc.</p>
                        `;
                        servicesList.appendChild(serviceItem);
                    });
                }
            });
        };
    </script>

</body>
</html>